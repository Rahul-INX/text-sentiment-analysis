<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="static\styling\style.css">
    <title>Emotion Recognition</title>
    <style>
        .history {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            height: 200px;
            overflow: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        .clear-btn {
            margin-top: 10px;
        }
        .emoji {
            font-size: 20px;
            margin-left: 5px;
        }
        .warning {
            font-size: 24px;
            color: red;
        }
    </style>
</head>
<body>
    <h1>Emotion Recognition</h1>
    <form method="POST" action="/"  style="text-align: center;">
        <input type="text" name="text" placeholder="Enter your text" required>
        <button type="submit">Submit</button>
    </form>
    
    <div class="history">
        <h2>History:</h2>
        <table>
            <thead>
                <tr>
                    <th>Input Text</th>
                    <th>Emotion Recognized</th>
                    <th>Timestamp</th>
                </tr>
            </thead>
            <tbody>
                {% for entry in history %}
                    <tr>
                        <td>{{ entry.text }}</td>
                        <td>{{ entry.emotion }}{% if entry.emotion == 'anger' %}üò†{% elif entry.emotion == 'fear' %}üò®{% elif entry.emotion == 'sadness' %}üò¢{% elif entry.emotion == 'surprise' %}üòÆ{% elif entry.emotion == 'joy' %}ü•≥{% elif entry.emotion == 'love' %}‚ù§Ô∏è{% endif %}</td>
                        <td>{{ entry.timestamp }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    
    <form method="POST" action="/clear" class="clear-btn">
        <button type="submit">Clear History</button>
    </form>
    
    {% if emotion %}
        <h2>Predicted Emotion: {{ emotion }}{% if emotion == 'anger' %}üò†{% elif emotion == 'fear' %}üò®{% elif emotion == 'sadness' %}üò¢{% elif emotion == 'surprise' %}üòÆ{% elif emotion == 'joy' %}ü•≥{% elif emotion == 'love' %}‚ù§Ô∏è{% endif %}</h2>
    {% endif %}

    {% if depression_warning %}
    <div style="text-align: center;">
        <p class="warning">Depression Detected! Danger! ‚ö†Ô∏è</p>
    </div>    
    {% endif %}

    <!-- Rest of the HTML code... -->

<form method="POST" action="/set_threshold" class="threshold-form">
    <label for="threshold">Threshold:</label>
    <input type="number" name="threshold" id="threshold" value="{{ threshold }}" min="1" max="100" required>
    <button type="submit">Set</button>
</form>

<!-- Rest of the HTML code... -->

<footer>
    <div class="footer-text">
        Developed by :- Jathin Rahul Sarath |
        <a href="https://github.com/Rahul-INX/text-sentiment-analysis">GitHub</a> |
    </div>
</footer>

</body>
</html>
